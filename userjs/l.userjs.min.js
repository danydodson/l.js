//https://github.com/danydodson/l.js
!function(window,undefined){var isA=function(e,t){return e instanceof(t||Array)},D=document,getElementsByTagName="getElementsByTagName",length="length",readyState="readyState",onreadystatechange="onreadystatechange",scripts=D[getElementsByTagName]("script"),scriptTag=scripts[scripts[length]-1],script=scriptTag.innerHTML.replace(/^\s+|\s+$/g,"");if(!window.ljs){var checkLoaded=scriptTag.src.match(/checkLoaded/)?1:0,header=D[getElementsByTagName]("head")[0]||D.documentElement,urlParse=function(e){var s={};return s.u=e.replace(/#(=)?([^#]*)?/g,function(e,t,a){return s[t?"f":"i"]=a,""}),s},appendElmt=function(e,t,a){var s,i=D.createElement(e);for(s in a&&(i[readyState]?i[onreadystatechange]=function(){"loaded"!==i[readyState]&&"complete"!==i[readyState]||(i[onreadystatechange]=null,a())}:i.onload=a),t)t[s]&&(i[s]=t[s]);header.appendChild(i)},ajaxExec=function(url,success,error){GM_xmlhttpRequest({method:"GET",url:url,onload:function(res){eval(res.responseText),success()},onerror:function(){error&&error()}})},load=function(e,t){var a;if(this.aliases&&this.aliases[e])return a=this.aliases[e].slice(0),isA(a)||(a=[a]),t&&a.push(t),this.load.apply(this,a);if(isA(e)){for(var s=e[length];s--;)this.load(e[s]);return t&&e.push(t),this.load.apply(this,e)}return e.match(/\.css\b/)?this.loadcss(e,t):this.loadjs(e,t)},exec=function(e,t){var a;if(this.aliases&&this.aliases[e])return a=this.aliases[e].slice(0),isA(a)||(a=[a]),t&&a.push(t),this.exec.apply(this,a);if(isA(e)){for(var s=e[length];s--;)this.exec(e[s]);return t&&e.push(t),this.exec.apply(this,e)}return e.match(/\.css\b/)?this.loadcss(e,t):this.execJs(e,t)},loaded={},loader={aliases:{},loadjs:function(e,t){var a,s,i,n=urlParse(e);return e=n.u,!0===loaded[e]?t&&t():loaded[e]!==undefined?t&&(loaded[e]=(a=loaded[e],s=t,function(){a&&a(),s&&s()})):(loaded[e]=(i=t,function(){loaded[e]=!0,i&&i()}),t=function(){loaded[e]()},appendElmt("script",{type:"text/javascript",src:e,id:n.i,onerror:function(e){n.f&&((e=e.currentTarget).parentNode.removeChild(e),appendElmt("script",{type:"text/javascript",src:n.f,id:n.i},t))}},t)),this},execJs:function(e,t){var a,s,i,n=urlParse(e);return e=n.u,!0===loaded[e]?t&&t():loaded[e]!==undefined?t&&(loaded[e]=(a=loaded[e],s=t,function(){a&&a(),s&&s()})):(loaded[e]=(i=t,function(){loaded[e]=!0,i&&i()}),ajaxExec(e,t=function(){loaded[e]()},function(){n.f&&ajaxExec(n.f,t)})),this},loadcss:function(e,t){var a=urlParse(e);return e=a.u,loaded[e]||appendElmt("link",{type:"text/css",rel:"stylesheet",href:e,id:a.i}),loaded[e]=!0,t&&t(),this},load:function(){var e=arguments,t=e[length];return 1===t&&isA(e[0],Function)?e[0]():load.call(this,e[0],t<=1?undefined:function(){loader.load.apply(loader,[].slice.call(e,1))}),this},exec:function(){var e=arguments,t=e[length];return 1===t&&isA(e[0],Function)?e[0]():exec.call(this,e[0],t<=1?undefined:function(){loader.exec.apply(loader,[].slice.call(e,1))}),this},addAliases:function(e){for(var t in e)this.aliases[t]=isA(e[t])?e[t].slice(0):e[t];return this}};if(checkLoaded){for(var i,l,links,url,i=0,l=scripts[length];i<l;i++)(url=scripts[i].getAttribute("src"))&&(loaded[url.replace(/#.*$/,"")]=!0);for(links=D[getElementsByTagName]("link"),i=0,l=links[length];i<l;i++)"stylesheet"!==links[i].rel&&"text/css"!==links[i].type||(loaded[links[i].getAttribute("href").replace(/#.*$/,"")]=!0)}window.ljs=loader}scriptTag.src&&script&&appendElmt("script",{innerHTML:script})}(window);
